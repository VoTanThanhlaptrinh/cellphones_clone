<div class="max-w-360 mx-auto md:px-4 sm:px-6 lg:px-8 min-h-screen">
  <div class="flex gap-2">
    <!-- Left Sidebar (Navigation) -->
    <aside
      class="w-full lg:w-1/4 bg-white hidden md:block rounded-lg shadow-sm overflow-hidden sticky top-4"
    >
      <nav class="flex flex-col py-2 peer">
        @for (item of sidebarItems; track item.id) {
        <button
          (click)="setActiveTab(item.id)"
          class="flex items-center gap-3 px-4 py-3 text-sm font-medium duration-200 w-full text-left hover:text-red-600 hover:border-l-4 hover:border-red-600 hover:bg-red-50 focus:bg-red-50 focus:text-red-600 focus:border-l-4 focus:border-red-600"
        >
          <!-- Icon (SVG) -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 shrink-0 hover:text-red-600 hover:border-l-4 hover:border-red-600 hover:bg-red-50 peer-focus:text-red-600 peer-focus:border-l-4 peer-focus:border-red-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              [attr.d]="item.icon"
            />
          </svg>
          <label class="text-base">{{ item.label }}</label>
        </button>
        }
      </nav>
    </aside>

    <!-- Right Content Area -->
    <main class="w-full lg:w-3/4 flex flex-col gap-2">
      <!-- SLOT: Notifications / Alerts -->
      <!-- Fallback placeholder -->
      <!-- <div class="w-full">
        <ng-content select="[slot=notifications]"></ng-content>

        <div
          class="bg-blue-50 border lue-200 rounded-md p-3 flex justify-between items-center text-sm text-blue-800 mb-2"
        >
          <span class="flex items-center gap-2">
            <span
              class="w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs"
              >i</span
            >
            Đăng ký S-Student/S-Teacher để nhận thêm ưu đãi tới 500k/sản phẩm
          </span>
          <button class="text-blue-600 hover:underline text-xs font-semibold">
            Đăng ký ngay
          </button>
        </div>
      </div> -->

      <!-- DYNAMIC CONTENT SWITCHER -->
      @switch (activeTab()) { @case ('overview') {
      <!-- Region: Overview -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Recent Orders -->
        <div
          class="bg-white col-span-2 p-4 rounded-lg shadow-sm min-h-50 border border-gray-100 flex flex-col"
        >
          <h3 class="font-bold text-gray-800 mb-4 pb-2">
            <p class="text-lg font-gray-800 font-bold">Đơn hàng gần đây</p>
          </h3>
          <div
            class="flex flex-col items-center justify-center text-gray-400 gap-2"
          >
            <div
              class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center"
            >
              <!-- Use a generic icon or the image provided in user's paste if available -->
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-10 w-10 text-red-500"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"
                />
              </svg>
            </div>
            <span class="text-sm text-center"
              >Bạn chưa có đơn hàng nào gần đây! Hãy bắt đầu mua sắm ngay
              nào!</span
            >
            <button class="text-red-600 text-sm font-semibold hover:underline">
              Mua sắm ngay
            </button>
          </div>
        </div>

        <!-- User Offers -->
        <div
          class="bg-white p-4 col-span-1 rounded-lg shadow-sm min-h-50 border border-gray-100 flex flex-col"
        >
          <h3 class="mb-4 pb-2">
            <p class="text-lg font-bold font-gray-800">Ưu đãi của bạn</p>
          </h3>
          <div
            class="bg-gray-50 border border-dashed border-gray-300 rounded p-4 flex gap-4 items-center"
          >
            <div
              class="w-10 h-10 bg-red-500 rounded flex items-center justify-center text-white"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5 5a3 3 0 015-2.236A3 3 0 0114.83 6H16a2 2 0 110 4h-5V9a1 1 0 10-2 0v1H4a2 2 0 110-4h1.17C5.06 5.687 5 5.35 5 5zm4 1V5a1 1 0 10-2 0v1h2zm3 0a1 1 0 10-2 0v1h2z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
            <div class="flex-1">
              <p class="text-sm font-bold text-gray-800">
                [EMAIL_] ƯU ĐÃI KHÁCH HÀNG...
              </p>
              <p class="text-xs text-blue-500">Giảm 10% tối đa 100.000đ</p>
              <p class="text-xs text-gray-500">HSD: 06/01/2026</p>
              <div
                class="mt-1 bg-gray-200 text-xs px-2 py-1 rounded inline-block text-gray-700"
              >
                EMAIL_10142FC1
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Favorites -->
      <div
        class="bg-white p-4 rounded-lg shadow-sm border border-gray-100 mt-2"
      >
        <h3 class="mb-4">
          <p class="text-lg text-gray-800 font-bold">Sản phẩm yêu thích</p>
        </h3>
        <div
          class="border border-gray-300 rounded-lg p-3 flex gap-4 items-center max-w-75"
        >
          <div class="w-16 h-16 bg-gray-100 rounded shrink-0">
            <!-- Placeholder for product image -->
            <img
              src="https://cdn-static.smember.com.vn/_next/static/media/iphone-16-pro-max.7601f01c.png"
              alt="Product"
              class="w-full h-full object-contain mix-blend-multiply"
              onerror="this.style.display='none'"
            />
          </div>
          <div class="flex flex-col">
            <h4 class="font-bold text-gray-800 text-sm">
              iPhone 16 Pro 1TB | Chính hãng VN/A
            </h4>
            <div class="flex items-center gap-2 mt-1">
              <span class="text-red-600 font-bold text-sm">37.690.000đ</span>
              <span class="text-gray-400 text-xs line-through"
                >43.990.000đ</span
              >
            </div>
          </div>
          <div class="text-blue-500 cursor-pointer bottom-0">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
                clip-rule="evenodd"
              />
            </svg>
          </div>
        </div>
      </div>

      <!-- Featured Promotions -->
      <div class="bg-white px-4 py-4 shadow rounded-xl">
        <h3 class="font-bold text-lg mb-4">
          <p class="text-lg font-gray-800 font-bold">Chương trình nổi bật</p>
        </h3>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
          <div
            class="aspect-video bg-linear-to-r from-pink-100 to-red-100 rounded-lg flex items-center justify-center text-red-500 font-bold relative overflow-hidden"
          >
            <span class="z-10">Say Hi!</span>
            <!-- Decorative elements simulating the banner -->
            <div
              class="absolute -right-4 -bottom-4 w-20 h-20 bg-red-200 rounded-full opacity-50"
            ></div>
          </div>
          <div
            class="aspect-video bg-gray-900 rounded-lg flex items-center justify-center text-white font-bold relative overflow-hidden"
          >
            <span class="z-10 text-center"
              >ĐẶC QUYỀN ONLINE<br /><span class="text-xs font-normal"
                >Ưu đãi đến 50%</span
              ></span
            >
          </div>
          <div
            class="aspect-video bg-linear-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center text-white font-bold relative overflow-hidden"
          >
            <span class="z-10 text-center"
              >Voucher 10%<br /><span class="text-xs font-normal"
                >Trị giá 1 Triệu</span
              ></span
            >
          </div>
        </div>
      </div>
      } @case ('orders') {
      <app-purchase-history></app-purchase-history>
      } @case ('account') {
      <app-infor></app-infor>
      } @case ('warranty') {
      <app-warranty></app-warranty>
      } @default {
      <!-- Generic Placeholder -->
      <div class="bg-white p-6 rounded-lg shadow-sm min-h-100">
        <h2 class="text-xl font-bold text-gray-800 mb-4">Đang cập nhật</h2>
        <p class="text-gray-500">Nội dung cho tab này đang được xây dựng.</p>
      </div>
      } }
    </main>
  </div>
</div>
